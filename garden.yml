kind: Project
name: ci-demo-project
environments:
  - name: local
    providers:
      - name: local-kubernetes
  - name: preview
    providers:
      - name: kubernetes
        # Replace these values as appropriate
        context: preview-cluster
        defaultHostname: ci-demo-project-${local.env.CIRCLE_BRANCH || "default"}.preview.some-domain
        namespace: ci-demo-project-${local.env.CIRCLE_BRANCH || "default"}
        buildMode: cluster-docker
